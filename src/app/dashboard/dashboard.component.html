<!-- <app-header></app-header> -->

<div *ngIf="!deleteConfirm">
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
      <div class="container-fluid">
        <span class="navbar-brand ms-2 pt-3 fs-4 text-primary-emphasis" >
          <i class="fa-solid fa-2x fa-user text-danger"></i>&nbsp; User Application</span>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown"
          aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link active fs-5 ms-3 pt-3 ps-5" aria-current="page" routerLink="/dashboard">Home</a>
            </li>
            
            <li class="nav-item">
              <a class="nav-link active fs-5 ms-2 pt-3 ps-5" (click)="getDetails()" data-bs-toggle="offcanvas"
                href="#offcanvasExample" aria-controls="offcanvasExample">View Details</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active fs-5 ms-2 pt-3 ps-5"  data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight">Edit Details</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active fs-5 ms-2 pt-3 ps-5" data-bs-toggle="offcanvas"
                href="#offcanvasDeposite" (click)="deleteAccountFromNavbar()"><i class="fa-solid fa-trash-can text-danger"></i>&nbsp;Delete Account</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active fs-5 ms-2 pt-3 ps-5"  (click)="logout()" data-bs-toggle="modal" data-bs-target="#staticBackdrop"><i class="text-success fa-solid fa-right-from-bracket"></i>&nbsp;Log Out</a>
            </li>
           
          </ul>
        </div>
      </div>
    </nav>
  </div>

  <!-- app-delete-confirm child selector -->
<app-delete-confirm [item]="phno" (onCancel)="onCancel()" (onDelete)="onDelete($event)"></app-delete-confirm>
  
<!-- delete spinner -->
<div *ngIf="deleteSpinnerDiv" class="container">
  <div class="row text-center mt-5">
<img class="logout mb-3" src="https://usagif.com/cdn-cgi/mirage/09c19a0b04d318b94cdf25a36e2298c0898e3ed217459472a15deb39b4b648f1/1280/https://usagif.com/wp-content/uploads/loading-78.gif" alt="logout spinner image">
 <p>please wait while deleting your Account...</p>
</div>
</div>

<!-- logout spinner -->

<div *ngIf="logoutDiv" class="container">
  <div class="row text-center mt-5">
<img style='width: 100px; height: 100px; margin-left: 45%;' class="logoutsp mb-3" src="https://upload.wikimedia.org/wikipedia/commons/c/c7/Loading_2.gif?20170503175831" alt="logout spinner image">
 <p>please wait while logging out...</p>
</div>
</div>


<!-- dashboard Design -->

  <div *ngIf="!logoutDiv" class="container">
    <div *ngIf="!deleteConfirm" class="row">
      <div class="col-md-4">
        <h1 class="text-center" style="margin-top:100px;  ">Welcome <span class="text-danger">{{user}}</span></h1>
        <div class="mb-2 border p-2 text-center">
         
          
        </div>

        <div style="text-align: justify;">Lorem ipsum dolor sit amet consectetur adipisicing elit. Est, voluptas, corrupti veniam harum atque
          minima velit mollitia vel laborum iusto, repellat sit officia. Voluptas facere, corporis harum omnis voluptates
          maxime?</div>
        <div style="text-align: justify;" class="collapse" id="collapseExample">Lorem ipsum dolor sit amet consectetur
          adipisicing elit. Voluptas quaerat dignissimos consequatur aut sit ea
          repudiandae nobis nostrum recusandae nemo laborum cumque consectetur asperiores itaque magni atque fugit,
          distinctio laboriosam!Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptas quaerat dignissimos
          </div>
       
          <button (click)="collapse()" class="btn btn-primary mt-2 p-1" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
            Read <span *ngIf="isCollapse">More</span>
              <span *ngIf="!isCollapse">Less</span>
            </button>
      </div>
      <div class="col-8">
        <img class="m-5" height="400px" src="https://cdn.brvn.vn/editor/2021/07/U67143_appmobile1_1625107449.png" alt="login image">
      </div>
    </div>
  </div>
  
  
    <!-- offcanvas view -->
  
    <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title text-primary" id="offcanvasExampleLabel">View Details</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      <div class="offcanvas-body">
        <div style="text-align: center;"><img width="300px"
            src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRaftGYOScO2owDL5Mvy3S0ZqWOSILELcXIE8UKv7yp0Q9E_r-c-3V4iUexjz8IfXpzfJw&usqp=CAU" alt="">
        </div>
        <div style="margin-top: 60px;" class="mt-2">
          <h5>Dear <span class="text-danger">{{user}}</span>,</h5>
          <div class="card" style="width: 18rem;">
            <div class="card-header">
              Your Details
            </div>
            <ul class="list-group list-group-flush">
              <li class="list-group-item">Name: {{users.name}}</li>
              <li class="list-group-item">E-mail: {{users.email}}</li>
              <li class="list-group-item">Phone: {{users.phno}}</li>

            </ul>
          </div>   
        </div>
    
      </div>
    </div>
  
  <!-- offcanvas edit -->
  
  <!-- <button class="btn btn-primary" type="button" >Toggle right offcanvas</button> -->

<div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title" id="offcanvasRightLabel">Edit Details</h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
    <div class="">
      <!-- (ngSubmit)="register()" [formGroup]="registerForm" -->
      <form (ngSubmit)="editDetails()" [formGroup]="editForm" class="border p-5 mt-5 me-5">
          <div class="form-floating mb-2">
              <input name="uname" formControlName="uname" type="text" class="form-control" id="floatingUser" placeholder="Account Number" value="{{users.username}}">
              <label for="floatingUser">Username</label>

            </div>

              <div class="form-floating mb-2">
                <input name="phno" formControlName="phno" type="text" class="form-control" id="floatingInput" placeholder="Account Number" value="{{users.phno}}">
                <label for="floatingInput">Phone Number</label>

              </div>
              

             


<div class="form-floating mb-2">
  <input name="ename" formControlName="ename" type="text" class="form-control" id="floatingEname" placeholder="Full Name" value="{{users.name}}">
  <label for="floatingUser">Full name</label>

</div>
<div class="form-floating mb-2">
  <input name="email" formControlName="email" type="text" class="form-control" id="floatingEmail" placeholder="E-mail" value="{{users.email}}">
  <label for="floatingUser">E-mail ID</label>

</div>
            
              <div class="mt-4">
                  <button type="submit"  class="btn btn-success">save</button>
                 
              </div>
      </form>
  </div>
  </div>
</div>